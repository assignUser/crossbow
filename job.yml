!Job
target: !Target
  head: 59280154cd0c7c548bd491abf2c782c6d19b1fc6
  email: unknown
  branch: arrow-15041
  remote: https://github.com/jonkeane/arrow.git
  version: 7.0.0.dev307
  no_rc_version: 7.0.0.dev307
  no_rc_semver_version: 7.0.0-dev307
tasks:
  test-r-rstudio-r-base-4.1-opensuse15: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse15
    branch: actions-1271-azure-test-r-rstudio-r-base-4.1-opensuse15
    commit: c6966c78a4324a9cbab54152384e521e16f625e0
  test-r-offline-minimal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e TEST_OFFLINE_BUILD=true

    branch: actions-1271-azure-test-r-offline-minimal
    commit: 27f5c9390501b8828871ba81c309f7e55032f8dd
  test-r-minimal-build: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: actions-1271-azure-test-r-minimal-build
    commit: 567b17342f117e9272b070a9ace097bd4b84bd80
  test-r-install-local: !Task
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: actions-1271-github-test-r-install-local
    commit: a74a286347d96cedb8e2c339d42863fb8026eff0
  conda-win-vs2017-py36-r40: !Task
    ci: azure
    template: conda-recipes/azure.win.yml
    artifacts:
    - arrow-cpp-7.0.0.dev307-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev307-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: win_64_cuda_compiler_versionNonenumpy1.17python3.6.____cpython
      r_config: win_64_r_base4.0
    branch: actions-1271-azure-conda-win-vs2017-py36-r40
    commit: e7f6fbd3a3b9fbce567c5f8b2a3e15192c691137
  test-r-depsource-system: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
        -e ARROW_DEPENDENCY_SOURCE=SYSTEM
      image: ubuntu-r-only-r

    branch: actions-1271-github-test-r-depsource-system
    commit: e3dd73452d1d8eba0711df0750e1fec2c80028b6
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: actions-1271-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: b8a51c36862da877f78e4ad2351417dc45a03210
  test-r-rstudio-r-base-4.1-focal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-focal
    branch: actions-1271-azure-test-r-rstudio-r-base-4.1-focal
    commit: cceaaf93a9af4f9240b2b81b3ddf9f97410b9709
  test-r-devdocs: !Task
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: actions-1271-github-test-r-devdocs
    commit: 39bb0c0232be3e2d5f75233be8b0da291107bb1b
  conda-linux-gcc-py37-cpu-r41: !Task
    ci: azure
    template: conda-recipes/azure.linux.yml
    artifacts:
    - arrow-cpp-7.0.0.dev307-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev307-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: linux_64_cuda_compiler_versionNonenumpy1.17python3.7.____cpython
      r_config: linux_64_r_base4.1
    branch: actions-1271-azure-conda-linux-gcc-py37-cpu-r41
    commit: 410b86e9bcef9cf5dc5e048dc86c6e46a25cc2eb
  test-r-rocker-r-base-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
    branch: actions-1271-azure-test-r-rocker-r-base-latest
    commit: 3cf16ca8f69aff5180ca2e86fb8d92c30ae02ebd
  test-r-ubuntu-21.04: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 21.04
        R_PRUNE_DEPS: true
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: actions-1271-github-test-r-ubuntu-21.04
    commit: 2cf93775d6005e033f4965ee0559aa96d27cd18e
  test-r-rstudio-r-base-4.1-centos7-devtoolset-8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-centos7
      devtoolset_version: 8

    branch: actions-1271-azure-test-r-rstudio-r-base-4.1-centos7-devtoolset-8
    commit: 12776d215cfb06024a4d56dca9b5b533ed156481
  test-r-gcc-11: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 21.04
        GCC_VERSION: 11
      # S3 support is not buildable with gcc11 right now
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
        -e ARROW_S3=OFF
      image: ubuntu-r-only-r

    branch: actions-1271-github-test-r-gcc-11
    commit: e42d10c7efcc36e9fadb71b8d58e329e20d58a53
  homebrew-r-autobrew: !Task
    ci: github
    template: r/github.macos.autobrew.yml
    artifacts: []
    params: {}
    branch: actions-1271-github-homebrew-r-autobrew
    commit: 1f48d7cd8f18f99c0e5b03b58fe98aed21adf446
  test-ubuntu-18.04-r-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: actions-1271-azure-test-ubuntu-18.04-r-sanitizer
    commit: 7be2d5b0c2ebfbbe252d1b73c362663cf528996d
  conda-win-vs2017-py37-r41: !Task
    ci: azure
    template: conda-recipes/azure.win.yml
    artifacts:
    - arrow-cpp-7.0.0.dev307-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev307-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: win_64_cuda_compiler_versionNonenumpy1.17python3.7.____cpython
      r_config: win_64_r_base4.1
    branch: actions-1271-azure-conda-win-vs2017-py37-r41
    commit: 90e9bd30167a031b9462e3638c99b7b7bf2ff2f4
  test-r-linux-rchk: !Task
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: actions-1271-github-test-r-linux-rchk
    commit: 2dc339713fc64a993220192ff72a22843b8cfb0e
  test-r-arrow-backwards-compatibility: !Task
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: actions-1271-github-test-r-arrow-backwards-compatibility
    commit: 142147dae165ba29193d32204c6c817d43d282f7
  test-fedora-r-clang-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: actions-1271-azure-test-fedora-r-clang-sanitizer
    commit: e50a9bb1676e22f726172e6c86fbd5b0cb674e50
  conda-osx-clang-py37-r41: !Task
    ci: azure
    template: conda-recipes/azure.osx.yml
    artifacts:
    - arrow-cpp-7.0.0.dev307-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev307-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: osx_64_numpy1.17python3.7.____cpython
      r_config: osx_64_r_base4.1
    branch: actions-1271-azure-conda-osx-clang-py37-r41
    commit: 1175e0a5d589e89a917532a6f69cd87f6782ba9a
  test-r-depsource-bundled: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: actions-1271-azure-test-r-depsource-bundled
    commit: 9cca39a5d594cf7485b37b27f87a9a0b75424cc8
  test-r-linux-as-cran: !Task
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: actions-1271-github-test-r-linux-as-cran
    commit: ebdfe6e37a5d7066b78549a28f91f88ac7663281
  test-r-offline-maximal: !Task
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: actions-1271-github-test-r-offline-maximal
    commit: 662e71e8abe0d1b9e45ec92888e9d27347925983
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: actions-1271-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: 65b07f790bcf7a3f923be476c0204306d14ec960
  conda-linux-gcc-py36-cpu-r40: !Task
    ci: azure
    template: conda-recipes/azure.linux.yml
    artifacts:
    - arrow-cpp-7.0.0.dev307-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev307-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: linux_64_cuda_compiler_versionNonenumpy1.17python3.6.____cpython
      r_config: linux_64_r_base4.0
    branch: actions-1271-azure-conda-linux-gcc-py36-cpu-r40
    commit: 7cc848e5bfd13265d0ec0f34c1e7eda5fcc09c84
  test-r-rstudio-r-base-4.1-centos8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-centos8
    branch: actions-1271-azure-test-r-rstudio-r-base-4.1-centos8
    commit: 4f130bdae69c9dd3e7e24eef26f5cda83524f295
  test-r-linux-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
        UBUNTU: 18.04
      image: ubuntu-r-valgrind

    branch: actions-1271-azure-test-r-linux-valgrind
    commit: 6a6aa22dc4fe31c29e69f35c797149725b9ddedd
  conda-osx-clang-py36-r40: !Task
    ci: azure
    template: conda-recipes/azure.osx.yml
    artifacts:
    - arrow-cpp-7.0.0.dev307-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev307-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: osx_64_numpy1.17python3.6.____cpython
      r_config: osx_64_r_base4.0
    branch: actions-1271-azure-conda-osx-clang-py36-r40
    commit: 0951f0bc2cb914817e430f65523a4a7aa7f8bac8
  test-r-versions: !Task
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: actions-1271-github-test-r-versions
    commit: 72cd9b03824c5af0a97f94a60708ae3f37cc0aff
  test-r-rstudio-r-base-4.1-opensuse42: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse42

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: actions-1271-azure-test-r-rstudio-r-base-4.1-opensuse42
    commit: 6214e023e9c0e9bdc1b918d7ddc76da92f594106
params: {}
branch: actions-1271
