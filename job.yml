!Job
target: !Target
  head: 46a63e036288987deb78bd5f11e3f7e5bb7b11fe
  email: unknown
  branch: duckdb-dependency-build
  remote: https://github.com/jonkeane/arrow.git
  version: 7.0.0.dev185
  no_rc_version: 7.0.0.dev185
  no_rc_semver_version: 7.0.0-dev185
tasks:
  test-r-depsource-system: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
        -e ARROW_DEPENDENCY_SOURCE=SYSTEM
      image: ubuntu-r-only-r

    branch: actions-1172-github-test-r-depsource-system
    commit: a874f1aa99c587cbf90cb4746e1b9041986ba936
  test-r-ubuntu-21.04: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      r_prune_deps: true
      env:
        UBUNTU: 21.04
        CLANG_TOOLS: 9 # can remove this when >=9 is the default
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: actions-1172-github-test-r-ubuntu-21.04
    commit: f5be85405851e1198ac5c45335920493357bf474
params: {}
branch: actions-1172
