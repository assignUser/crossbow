!Job
target: !Target
  head: cff18aedf3f8c07237fedd736a7267c9d5bdc680
  email: unknown
  branch: ARROW-15122
  remote: https://github.com/jonkeane/arrow.git
  github_repo: jonkeane/arrow
  version: 7.0.0.dev366
  no_rc_version: 7.0.0.dev366
  no_rc_semver_version: 7.0.0-dev366
tasks:
  test-r-ubuntu-21.04: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 21.04
        R_PRUNE_DEPS: true
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: actions-1319-github-test-r-ubuntu-21.04
    commit: a60fc4a2ad88d2fb3d5e2587bbe58ef2ff45cac8
  test-r-depsource-bundled: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: actions-1319-azure-test-r-depsource-bundled
    commit: b6eef7582d8095cac8b7b6c9cd5904483e67cb40
  conda-osx-clang-py37-r41: !Task
    ci: azure
    template: conda-recipes/azure.osx.yml
    artifacts:
    - arrow-cpp-7.0.0.dev366-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev366-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: osx_64_numpy1.17python3.7.____cpython
      r_config: osx_64_r_base4.1
    branch: actions-1319-azure-conda-osx-clang-py37-r41
    commit: 532a9dedcd3b2ae92943795a06ec2ac5c869ac0c
  test-r-gcc-11: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 21.04
        GCC_VERSION: 11
      # S3 support is not buildable with gcc11 right now
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
        -e ARROW_S3=OFF
      image: ubuntu-r-only-r

    branch: actions-1319-github-test-r-gcc-11
    commit: a91bf195b161b90c68e53639fbf8e1fa8ca5641a
  test-r-depsource-system: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
        -e ARROW_DEPENDENCY_SOURCE=SYSTEM
      image: ubuntu-r-only-r

    branch: actions-1319-github-test-r-depsource-system
    commit: 647296fb199603c15490326ac36ca8f8ec8a67f7
  test-r-rstudio-r-base-4.1-opensuse15: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse15
    branch: actions-1319-azure-test-r-rstudio-r-base-4.1-opensuse15
    commit: 52f7d98c1373d46335c8d8b458c2f557d4fbdabb
  test-r-rstudio-r-base-4.1-focal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-focal
    branch: actions-1319-azure-test-r-rstudio-r-base-4.1-focal
    commit: 16be9dda4037bf99811e9fc232befad5dbc5f11c
  conda-linux-gcc-py36-cpu-r40: !Task
    ci: azure
    template: conda-recipes/azure.linux.yml
    artifacts:
    - arrow-cpp-7.0.0.dev366-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev366-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: linux_64_cuda_compiler_versionNonenumpy1.17python3.6.____cpython
      r_config: linux_64_r_base4.0
    branch: actions-1319-azure-conda-linux-gcc-py36-cpu-r40
    commit: 77c17ea5104ebe7a971fddab313ab092d02a72e3
  test-r-linux-rchk: !Task
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: actions-1319-github-test-r-linux-rchk
    commit: f13c31cbe873fee60649e7b57b3b6d6fe89a6b63
  homebrew-r-autobrew: !Task
    ci: github
    template: r/github.macos.autobrew.yml
    artifacts: []
    params: {}
    branch: actions-1319-github-homebrew-r-autobrew
    commit: 722aca9387a69d9905079135ad67582047ca303f
  test-r-offline-minimal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e TEST_OFFLINE_BUILD=true

    branch: actions-1319-azure-test-r-offline-minimal
    commit: 2501ceab9e6ee9564e18a1189b66fc002ad52107
  test-r-minimal-build: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: actions-1319-azure-test-r-minimal-build
    commit: d49e871474548b9f44b1b2ccc5fbb61333d679d5
  test-r-arrow-backwards-compatibility: !Task
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: actions-1319-github-test-r-arrow-backwards-compatibility
    commit: e863dd6caecdccb7ab74edbfa60bd019329394ad
  test-r-devdocs: !Task
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: actions-1319-github-test-r-devdocs
    commit: b02bf0c98ed7a54b139af32d833660f8c9e0e0e5
  test-r-install-local: !Task
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: actions-1319-github-test-r-install-local
    commit: a27e2d421270905471d1dcb8dd6eaee24872521d
  test-r-rstudio-r-base-4.1-opensuse42: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse42

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: actions-1319-azure-test-r-rstudio-r-base-4.1-opensuse42
    commit: 799ae0310bedbe5b490214c91247be4d29d58d9b
  test-r-offline-maximal: !Task
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: actions-1319-github-test-r-offline-maximal
    commit: 989b464b23d47d032fb64d2a0a4faf9d2dd45dfe
  test-ubuntu-18.04-r-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: actions-1319-azure-test-ubuntu-18.04-r-sanitizer
    commit: 61189d23245382b7019cde182dc7744fbc947606
  test-r-versions: !Task
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: actions-1319-github-test-r-versions
    commit: cdd99c6fd6177593db11a0cf8d7a8726912b46d1
  test-r-rocker-r-base-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
    branch: actions-1319-azure-test-r-rocker-r-base-latest
    commit: 5f9a81bad3b2878f39f42639228a40c4b7023e5a
  conda-linux-gcc-py37-cpu-r41: !Task
    ci: azure
    template: conda-recipes/azure.linux.yml
    artifacts:
    - arrow-cpp-7.0.0.dev366-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev366-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: linux_64_cuda_compiler_versionNonenumpy1.17python3.7.____cpython
      r_config: linux_64_r_base4.1
    branch: actions-1319-azure-conda-linux-gcc-py37-cpu-r41
    commit: ea279a39669854d7dae3005ada4d02a12d81ac8a
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: actions-1319-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: 14bfb218cf7a111a9fe60ebd5368b573e00f888b
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: actions-1319-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: 7654b2d15c7868b7e493a30fb58f1d22bdfc0c2d
  test-fedora-r-clang-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: actions-1319-azure-test-fedora-r-clang-sanitizer
    commit: 8f3b8a7bd4bfc0ebe6dfdc3ef2d9b8221e3d00f1
  test-r-linux-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
        UBUNTU: 18.04
      image: ubuntu-r-valgrind

    branch: actions-1319-azure-test-r-linux-valgrind
    commit: cbd3b52a4510d52c4fbbf6b04c69a33ed5143aac
  test-r-linux-as-cran: !Task
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: actions-1319-github-test-r-linux-as-cran
    commit: 0f954f050d4bbff4279f8a763e939a9b1cb88d9c
  test-r-rstudio-r-base-4.1-centos8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-centos8
    branch: actions-1319-azure-test-r-rstudio-r-base-4.1-centos8
    commit: 58931dbbfb29425aff7314ac2c1b501f81670c0c
  conda-osx-clang-py36-r40: !Task
    ci: azure
    template: conda-recipes/azure.osx.yml
    artifacts:
    - arrow-cpp-7.0.0.dev366-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev366-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: osx_64_numpy1.17python3.6.____cpython
      r_config: osx_64_r_base4.0
    branch: actions-1319-azure-conda-osx-clang-py36-r40
    commit: a38597a826794396434cc5a64f5c73c4c2ee849f
  conda-win-vs2017-py37-r41: !Task
    ci: azure
    template: conda-recipes/azure.win.yml
    artifacts:
    - arrow-cpp-7.0.0.dev366-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev366-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: win_64_cuda_compiler_versionNonenumpy1.17python3.7.____cpython
      r_config: win_64_r_base4.1
    branch: actions-1319-azure-conda-win-vs2017-py37-r41
    commit: 05773c034ec63563e5bae632276576f2755b2faf
  test-r-rstudio-r-base-4.1-centos7-devtoolset-8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-centos7
      devtoolset_version: 8

    branch: actions-1319-azure-test-r-rstudio-r-base-4.1-centos7-devtoolset-8
    commit: ff2c1e387d07016f6ab5cec996778efe151f911c
  conda-win-vs2017-py36-r40: !Task
    ci: azure
    template: conda-recipes/azure.win.yml
    artifacts:
    - arrow-cpp-7.0.0.dev366-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev366-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: win_64_cuda_compiler_versionNonenumpy1.17python3.6.____cpython
      r_config: win_64_r_base4.0
    branch: actions-1319-azure-conda-win-vs2017-py36-r40
    commit: c930fa899a81aaf0ce5893ea2d0f74ba00d3398c
params: {}
branch: actions-1319
