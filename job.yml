!Job
target: !Target
  head: 95ad5dbaaaa7526ed92b8f205ca521a04167f3ee
  email: unknown
  branch: ci-strict-r-check
  remote: https://github.com/kou/arrow.git
  github_repo: kou/arrow
  version: 8.0.0.dev143
  no_rc_version: 8.0.0.dev143
  no_rc_semver_version: 8.0.0-dev143
tasks:
  conda-linux-gcc-py37-cpu-r40: !Task
    ci: azure
    template: conda-recipes/azure.linux.yml
    artifacts:
    - arrow-cpp-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: linux_64_c_compiler_version9cuda_compiler_versionNonecxx_compiler_version9numpy1.18python3.7.____cpython
      r_config: linux_64_r_base4.0
    branch: actions-1692-azure-conda-linux-gcc-py37-cpu-r40
    commit: fcadfbc9c65cbcec15775ba0f9f2b79302abf7f8
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: actions-1692-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: 81291d0761c33e3f711d411b075852a4049960e3
  test-r-offline-maximal: !Task
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: actions-1692-github-test-r-offline-maximal
    commit: 3447a4aa6c007125939f6a54b7f7511e7759f7c4
  test-r-offline-minimal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e TEST_OFFLINE_BUILD=true

    branch: actions-1692-azure-test-r-offline-minimal
    commit: b8cf99d0ef892474286e9f52a92875bcfef154fc
  test-r-depsource-system: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_DEPENDENCY_SOURCE=SYSTEM
      image: ubuntu-r-only-r

    branch: actions-1692-github-test-r-depsource-system
    commit: c7cc8bc96825273e62b19152af47ed42b2c1a067
  conda-win-vs2017-py37-r40: !Task
    ci: azure
    template: conda-recipes/azure.win.yml
    artifacts:
    - arrow-cpp-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: win_64_cuda_compiler_versionNonenumpy1.18python3.7.____cpython
      r_config: win_64_r_base4.0
    branch: actions-1692-azure-conda-win-vs2017-py37-r40
    commit: e46583100bf108e997f7e49346195260cb1a8b48
  test-debian-ruby: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: debian-ruby
    branch: actions-1692-github-test-debian-ruby
    commit: 21c1466e07f0af77863bf05fca7a8a834b22be4c
  test-r-rstudio-r-base-4.1-centos7-devtoolset-8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-centos7
      devtoolset_version: 8

    branch: actions-1692-azure-test-r-rstudio-r-base-4.1-centos7-devtoolset-8
    commit: 2748f6b4c2f8a68a28f28f94f85da646849a4050
  test-r-depsource-bundled: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: actions-1692-azure-test-r-depsource-bundled
    commit: f1256aed045d1186eadd4ccc04f112b308da672d
  test-r-arrow-backwards-compatibility: !Task
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: actions-1692-github-test-r-arrow-backwards-compatibility
    commit: 4fbd75f82a40cea87779ad4337eefdffa733d16d
  test-r-dev-duckdb: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        R_DUCKDB_DEV: true
      image: ubuntu-r-only-r

    branch: actions-1692-github-test-r-dev-duckdb
    commit: a2a826ffc6878772c39f39d4a794fc8f7467124c
  test-r-install-local: !Task
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: actions-1692-github-test-r-install-local
    commit: e8277809c6b4d911ee1c6f5edba19d734e6d38b8
  homebrew-r-brew: !Task
    ci: github
    template: r/github.macos.brew.yml
    artifacts: []
    params:
      formula: apache-arrow.rb

  ############################## Arrow JAR's ##################################

    branch: actions-1692-github-homebrew-r-brew
    commit: 904a320b21c87139564d3ee344fb75a00d8a6492
  test-r-devdocs: !Task
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: actions-1692-github-test-r-devdocs
    commit: 48deb361fbed0cd01bbffdefd57c981e264fe689
  homebrew-r-autobrew: !Task
    ci: github
    template: r/github.macos.autobrew.yml
    artifacts: []
    params: {}
    branch: actions-1692-github-homebrew-r-autobrew
    commit: 0ceb501a7d5ddafbe24c5dc60841711fee63cf82
  conda-osx-clang-py37-r41: !Task
    ci: azure
    template: conda-recipes/azure.osx.yml
    artifacts:
    - arrow-cpp-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: osx_64_numpy1.18python3.7.____cpython
      r_config: osx_64_r_base4.1
    branch: actions-1692-azure-conda-osx-clang-py37-r41
    commit: deaf7ad45f4d4f826d38c335969f54bfe4f1c05f
  test-ubuntu-ruby: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      image: ubuntu-ruby

  # Use azure to run valgrind tests to prevent OOM
    branch: actions-1692-github-test-ubuntu-ruby
    commit: 29653072889df12d85e470ac844aafd883794347
  test-r-linux-as-cran: !Task
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: actions-1692-github-test-r-linux-as-cran
    commit: e205233e85d7462ca89e3d49c14caf05b1053fd1
  test-r-rstudio-r-base-4.1-focal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-focal
    branch: actions-1692-azure-test-r-rstudio-r-base-4.1-focal
    commit: 0891f0b3ffa2f828d10454a28f2d85350f654ada
  test-r-linux-rchk: !Task
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: actions-1692-github-test-r-linux-rchk
    commit: 861abd656e68c12a44307b16bae7521b266d3fb4
  test-ubuntu-18.04-r-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: actions-1692-azure-test-ubuntu-18.04-r-sanitizer
    commit: 1d32e581776834cc4a1812c2c6be980a3bc0ba36
  test-r-gcc-11: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 21.04
        GCC_VERSION: 11
      # S3 support is not buildable with gcc11 right now
      flags: -e ARROW_S3=OFF
      image: ubuntu-r-only-r

    branch: actions-1692-github-test-r-gcc-11
    commit: 0a909648c45c8de392dee51f84f4e02d9642dd5f
  test-r-ubuntu-21.04: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 21.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: actions-1692-github-test-r-ubuntu-21.04
    commit: b029afad7247e50cff40ad4ca85dbdc0cef85a98
  test-r-versions: !Task
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: actions-1692-github-test-r-versions
    commit: c190beec3992e342ba0ae7676040f0e5dd4d6ad6
  test-fedora-r-clang-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: actions-1692-azure-test-fedora-r-clang-sanitizer
    commit: 6e6219fd866b79f1d38c482c30d73dd60b55e8f2
  conda-linux-gcc-py37-cpu-r41: !Task
    ci: azure
    template: conda-recipes/azure.linux.yml
    artifacts:
    - arrow-cpp-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: linux_64_c_compiler_version9cuda_compiler_versionNonecxx_compiler_version9numpy1.18python3.7.____cpython
      r_config: linux_64_r_base4.1
    branch: actions-1692-azure-conda-linux-gcc-py37-cpu-r41
    commit: 72aff3cbfee137b4a3dc6690531f6b90e3b0606e
  test-r-linux-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
        UBUNTU: 18.04
      image: ubuntu-r-valgrind

    branch: actions-1692-azure-test-r-linux-valgrind
    commit: 8f5ceb3ac1c36a6368735a673a97c4fd1a199cb7
  test-r-rstudio-r-base-4.1-opensuse15: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse15
    branch: actions-1692-azure-test-r-rstudio-r-base-4.1-opensuse15
    commit: 6db71e47d8bb804fddc70892cc986936dca2b776
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: actions-1692-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: ccdcd82d8c9348b4e16f642c8506b21ca92c600e
  test-r-minimal-build: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: actions-1692-azure-test-r-minimal-build
    commit: 485eba430beef953ed19a0b824f39eb8d810ed7b
  conda-osx-clang-py37-r40: !Task
    ci: azure
    template: conda-recipes/azure.osx.yml
    artifacts:
    - arrow-cpp-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: osx_64_numpy1.18python3.7.____cpython
      r_config: osx_64_r_base4.0
    branch: actions-1692-azure-conda-osx-clang-py37-r40
    commit: 27e6a493b54d787bfdd18a3a183b9cc6ca8ec434
  test-r-rocker-r-base-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
    branch: actions-1692-azure-test-r-rocker-r-base-latest
    commit: ceb2a43e922fb61b044cfb301c702326bcd99667
  test-r-rstudio-r-base-4.1-opensuse42: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse42

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: actions-1692-azure-test-r-rstudio-r-base-4.1-opensuse42
    commit: 93c0e55c5956de44e4505d21de02a49fc6fad989
  conda-win-vs2017-py37-r41: !Task
    ci: azure
    template: conda-recipes/azure.win.yml
    artifacts:
    - arrow-cpp-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-8.0.0.dev143-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: win_64_cuda_compiler_versionNonenumpy1.18python3.7.____cpython
      r_config: win_64_r_base4.1
    branch: actions-1692-azure-conda-win-vs2017-py37-r41
    commit: b5a72f9927fcb607a83859fc1344541951e3f75e
params: {}
branch: actions-1692
