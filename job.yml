!Job
target: !Target
  head: f851064d22035b2f4725b72d608c37a81a67ef0e
  email: unknown
  branch: hard-lto
  remote: https://github.com/nealrichardson/arrow.git
  version: 6.0.0.dev71
  no_rc_version: 6.0.0.dev71
  no_rc_semver_version: 6.0.0-dev71
tasks:
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      with_arrow: 'FALSE'
      flags: -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: actions-744-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: 765bf098efd765a86343dc1270bcd2d9b67cc64b
  test-r-gcc-11: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 21.04
        CLANG_TOOLS: 9 # can remove this when >=9 is the default
        GCC_VERSION: 11
      # S3 support is not buildable with gcc11 right now
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
        -e ARROW_S3=OFF
      image: ubuntu-r-only-r

    branch: actions-744-github-test-r-gcc-11
    commit: 0deecb2e5f558f60b109b7aeda3e529b2cbf04dd
params: {}
branch: actions-744
