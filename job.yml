!Job
target: !Target
  head: 82e63def7f690fd993cb51f7dbd369ffcc2120a2
  email: antoine@python.org
  branch: ARROW-12735-gdb
  remote: https://github.com/pitrou/arrow.git
  github_repo: pitrou/arrow
  version: 7.0.0.dev552
  no_rc_version: 7.0.0.dev552
  no_rc_semver_version: 7.0.0-dev552
tasks:
  test-conda-python-3.8-pandas-nightly: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: nightly
        NUMPY: nightly
      image: conda-python-pandas
    branch: build-591-github-test-conda-python-3.8-pandas-nightly
    commit: 7fba541ecc33886c3d41dd945fba2f2d1a554ff8
  test-conda-python-3.9: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
      image: conda-python
    branch: build-591-github-test-conda-python-3.9
    commit: e4ce3498b63f7f1c20a2a79ed5eb3de6640fd75f
  test-debian-11-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
      image: debian-python

    branch: build-591-azure-test-debian-11-python-3
    commit: a935d1e6f609a4612d09fd3d37fbe7175d87cf02
  test-conda-python-3.7-spark-v3.1.2: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        SPARK: v3.1.2
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: build-591-github-test-conda-python-3.7-spark-v3.1.2
    commit: 13924b2c5dc38c4b57446d972af3ccd236625a06
  test-conda-python-3.10: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python

    branch: build-591-github-test-conda-python-3.10
    commit: 047da41a901bbd1c3e7faa0d9a8ce6507390dcba
  test-conda-python-3.8-pandas-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: latest
        NUMPY: latest
      image: conda-python-pandas
    branch: build-591-github-test-conda-python-3.8-pandas-latest
    commit: ea0a22ad514ab6ee4bfaee6acc0bfd9ca0b9b0b3
  test-conda-python-3.9-spark-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        SPARK: master
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0

  # Remove the "skipped-" prefix in ARROW-8475
    branch: build-591-github-test-conda-python-3.9-spark-master
    commit: cd260a952812269f9ac64a0bdae7e894dfb2c5a9
  test-conda-python-3.8-spark-v3.2.0: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        SPARK: v3.2.0
        TEST_PYARROW_ONLY: 'false'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: build-591-github-test-conda-python-3.8-spark-v3.2.0
    commit: c478a743c9068d6db0fdba85001dac2800d6fd41
  test-conda-python-3.7: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
      image: conda-python
    branch: build-591-github-test-conda-python-3.7
    commit: 0291d045bfaddf4435495d9351e206f8f0c0d588
  test-conda-python-3.9-dask-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.9
        DASK: latest
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask
    branch: build-591-github-test-conda-python-3.9-dask-latest
    commit: 7a8531f5fc19b6b587d9ae53b7851577a47f41ce
  test-conda-python-3.9-dask-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.9
        DASK: master
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask

# TEMP disable because those are failing due to needing upstream fix (ARROW-13594)
# #   test-conda-python-3.7-turbodbc-latest:
#     ci: github
#     template: docker-tests/github.linux.yml
#     params:
#       env:
#         PYTHON: 3.7
#         TURBODBC: latest
#       # use the latest turbodbc release, so prevent reusing any cached layers
#       flags: --no-leaf-cache
#       image: conda-python-turbodbc
# #   test-conda-python-3.7-turbodbc-master:
#     ci: github
#     template: docker-tests/github.linux.yml
#     params:
#       env:
#         PYTHON: 3.7
#         TURBODBC: master
#       # use the latest turbodbc release, so prevent reusing any cached layers
#       flags: --no-leaf-cache
#       image: conda-python-turbodbc
# 
    branch: build-591-github-test-conda-python-3.9-dask-master
    commit: 746e5f0affebf153105d66100042a71bf5901fe9
  test-conda-python-3.9-pandas-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        PANDAS: master
        NUMPY: nightly
      image: conda-python-pandas

    branch: build-591-github-test-conda-python-3.9-pandas-master
    commit: d12b9ebfa46e16aa80dbb27009fd137d775461a9
  test-conda-python-3.8-hypothesis: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        HYPOTHESIS_PROFILE: ci
        PYARROW_TEST_HYPOTHESIS: ON
        PYTHON: 3.8
        # limit to execute hypothesis tests only
        PYTEST_ARGS: -m hypothesis
      image: conda-python-pandas

    branch: build-591-github-test-conda-python-3.8-hypothesis
    commit: 928ae1f11157cc450e0fe414ecb5ff7f192bab94
  test-conda-python-3.8: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
      image: conda-python
    branch: build-591-github-test-conda-python-3.8
    commit: aa869baf9d4062d39565f5fe9961fd4ddc612088
  test-conda-python-3.7-pandas-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        PANDAS: latest
        NUMPY: latest
      image: conda-python-pandas
    branch: build-591-github-test-conda-python-3.7-pandas-latest
    commit: f5545d60f64b8333740713c84db8fb3068570ceb
  test-ubuntu-20.04-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-python

    branch: build-591-azure-test-ubuntu-20.04-python-3
    commit: 28f9b51f22496db882d040b9730cd6bbd5284ead
  test-conda-python-3.7-pandas-0.24: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.7'
        PANDAS: '0.24'
        NUMPY: '1.19'
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: build-591-github-test-conda-python-3.7-pandas-0.24
    commit: 4957328072ba39301bf9c2e02000d9220da40d49
  test-conda-python-3.7-kartothek-latest: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        KARTOTHEK: latest
      flags: --no-leaf-cache
      image: conda-python-kartothek
    branch: build-591-github-test-conda-python-3.7-kartothek-latest
    commit: fe5dd18669a82c8eb0a72d382f115eb918d16525
  test-conda-python-3.7-hdfs-2.9.2: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        HDFS: 2.9.2
      image: conda-python-hdfs
    branch: build-591-github-test-conda-python-3.7-hdfs-2.9.2
    commit: 3874589e03d246436697704d635b8e7dae6c14ea
  test-fedora-33-python-3: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 33
      image: fedora-python

    branch: build-591-azure-test-fedora-33-python-3
    commit: ac930417e069ea1c06df517c66c039ee91eaffc8
  test-conda-python-3.7-hdfs-3.2.1: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        HDFS: 3.2.1
      image: conda-python-hdfs

    branch: build-591-github-test-conda-python-3.7-hdfs-3.2.1
    commit: c907be5ed8b253283a7a6566234683a1e4e6878c
  test-conda-python-3.7-kartothek-master: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.7
        KARTOTHEK: master
      flags: --no-leaf-cache
      image: conda-python-kartothek

    branch: build-591-github-test-conda-python-3.7-kartothek-master
    commit: 4b10d2b7deec7fe238d82e3d9ee6af35526054df
params: {}
branch: build-591
