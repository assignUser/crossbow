!Job
target: !Target
  head: 1938ed9cbbad060135046c088e6fb7472a54c975
  email: unknown
  branch: ARROW-14850_dependency_source
  remote: https://github.com/thisisnic/arrow.git
  version: 7.0.0.dev267
  no_rc_version: 7.0.0.dev267
  no_rc_semver_version: 7.0.0-dev267
tasks:
  test-r-offline-maximal: !Task
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: actions-1256-github-test-r-offline-maximal
    commit: e4a98c7a1356d870509da9e4fed9f891255eb914
  test-r-depsource-bundled: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: actions-1256-azure-test-r-depsource-bundled
    commit: 159ce7a5f031bf88e2fb416504a194bed3784fd2
  conda-osx-clang-py37-r41: !Task
    ci: azure
    template: conda-recipes/azure.osx.yml
    artifacts:
    - arrow-cpp-7.0.0.dev267-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev267-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: osx_64_numpy1.17python3.7.____cpython
      r_config: osx_64_r_base4.1
    branch: actions-1256-azure-conda-osx-clang-py37-r41
    commit: 04a6420c0c4fe049993af85c242794fa6b7e8ac8
  test-r-linux-as-cran: !Task
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: actions-1256-github-test-r-linux-as-cran
    commit: 633d9175bc4d51008c5d802df1f0397d899bad82
  test-r-install-local: !Task
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: actions-1256-github-test-r-install-local
    commit: efa8897dd1bfa610fab2decaff49a90f89840587
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: actions-1256-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: de1d51f5cfbeed5bb847a8e146df61f9624f8c26
  conda-linux-gcc-py37-cpu-r41: !Task
    ci: azure
    template: conda-recipes/azure.linux.yml
    artifacts:
    - arrow-cpp-7.0.0.dev267-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev267-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: linux_64_cuda_compiler_versionNonenumpy1.17python3.7.____cpython
      r_config: linux_64_r_base4.1
    branch: actions-1256-azure-conda-linux-gcc-py37-cpu-r41
    commit: 2e130373d1961f89468e1ccae1b02cbd0820e3ca
  test-r-rstudio-r-base-4.1-opensuse15: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse15
    branch: actions-1256-azure-test-r-rstudio-r-base-4.1-opensuse15
    commit: 6c26eb3c65c433e8a7f12ff352d4daa195730e9d
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: actions-1256-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: aacf89f49693773267d4d7b879187e9aa0b06c98
  conda-win-vs2017-py36-r40: !Task
    ci: azure
    template: conda-recipes/azure.win.yml
    artifacts:
    - arrow-cpp-7.0.0.dev267-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev267-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: win_64_cuda_compiler_versionNonenumpy1.17python3.6.____cpython
      r_config: win_64_r_base4.0
    branch: actions-1256-azure-conda-win-vs2017-py36-r40
    commit: 32ddd5bce221f7ad0dde229caa97e101e3112c53
  test-r-rstudio-r-base-4.1-opensuse42: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse42

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: actions-1256-azure-test-r-rstudio-r-base-4.1-opensuse42
    commit: c44071b63b6fb3a3e4319acfc51acfbddfbb6e43
  test-r-rocker-r-base-latest: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
    branch: actions-1256-azure-test-r-rocker-r-base-latest
    commit: bec51eacfdd2ebce02e67faf69a37d7c751501bf
  conda-win-vs2017-py37-r41: !Task
    ci: azure
    template: conda-recipes/azure.win.yml
    artifacts:
    - arrow-cpp-7.0.0.dev267-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev267-py37(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: win_64_cuda_compiler_versionNonenumpy1.17python3.7.____cpython
      r_config: win_64_r_base4.1
    branch: actions-1256-azure-conda-win-vs2017-py37-r41
    commit: 5f9344681d8a0079b1f7483daf174809a49f72eb
  test-r-linux-valgrind: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
        UBUNTU: 18.04
      run: ubuntu-r-valgrind

    branch: actions-1256-azure-test-r-linux-valgrind
    commit: e4b2a2a09ccad7fd9a1e96c2eec4fb61a32476f1
  conda-linux-gcc-py36-cpu-r40: !Task
    ci: azure
    template: conda-recipes/azure.linux.yml
    artifacts:
    - arrow-cpp-7.0.0.dev267-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev267-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: linux_64_cuda_compiler_versionNonenumpy1.17python3.6.____cpython
      r_config: linux_64_r_base4.0
    branch: actions-1256-azure-conda-linux-gcc-py36-cpu-r40
    commit: 6663e187a736607e6146e2bb0ff2ecfef33d8808
  test-r-devdocs: !Task
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: actions-1256-github-test-r-devdocs
    commit: c9ef789bcb74252572d1b03071dfb7686b529296
  homebrew-r-autobrew: !Task
    ci: github
    template: r/github.macos.autobrew.yml
    artifacts: []
    params: {}
    branch: actions-1256-github-homebrew-r-autobrew
    commit: 07ffd5bfd083ee0dfa4f76cad289aad6a2802e18
  test-r-minimal-build: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: actions-1256-azure-test-r-minimal-build
    commit: 92364c5ab9dd3d73efc479cf1f25729dc9204d46
  test-r-linux-rchk: !Task
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: actions-1256-github-test-r-linux-rchk
    commit: c5f0d25a2f70f22c0109e92fa503633e8d853609
  test-r-versions: !Task
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: actions-1256-github-test-r-versions
    commit: 1f1d383f715625b6218ff6781c2a1df37b2f36e7
  conda-osx-clang-py36-r40: !Task
    ci: azure
    template: conda-recipes/azure.osx.yml
    artifacts:
    - arrow-cpp-7.0.0.dev267-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    - pyarrow-7.0.0.dev267-py36(h[a-z0-9]+)_0_cpu.tar.bz2
    params:
      config: osx_64_numpy1.17python3.6.____cpython
      r_config: osx_64_r_base4.0
    branch: actions-1256-azure-conda-osx-clang-py36-r40
    commit: 232271d9dcbc68f37dc60361a29f575a88a0cdfd
  test-r-rstudio-r-base-4.1-centos7-devtoolset-8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-centos7
      devtoolset_version: 8

    branch: actions-1256-azure-test-r-rstudio-r-base-4.1-centos7-devtoolset-8
    commit: b61bf3003cde00b76289f292986cb9e1e07e2ba9
  test-r-gcc-11: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 21.04
        GCC_VERSION: 11
      # S3 support is not buildable with gcc11 right now
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
        -e ARROW_S3=OFF
      image: ubuntu-r-only-r

    branch: actions-1256-github-test-r-gcc-11
    commit: 54d5156e90d0a51f03bc3752c0944e63d3a7db21
  test-r-rstudio-r-base-4.1-centos8: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-centos8
    branch: actions-1256-azure-test-r-rstudio-r-base-4.1-centos8
    commit: ed18ec419f9dfc25571b77a410c5b7c7225bc22f
  test-r-rstudio-r-base-4.1-focal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-focal
    branch: actions-1256-azure-test-r-rstudio-r-base-4.1-focal
    commit: 52593b2daeb4d381376bacb5e93b80d3fee8da79
  test-fedora-r-clang-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      run: fedora-r-clang-sanitizer

    branch: actions-1256-azure-test-fedora-r-clang-sanitizer
    commit: 80aeb0837009ac492de25d257efb2a22ce481540
  test-r-arrow-backwards-compatibility: !Task
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: actions-1256-github-test-r-arrow-backwards-compatibility
    commit: 1330e31583082686768f71ad94d5d49366a7b462
  test-r-ubuntu-21.04: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 21.04
        R_PRUNE_DEPS: true
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: actions-1256-github-test-r-ubuntu-21.04
    commit: 885d2280e1ffcbbe1094dc2ac623bd0b078d7e8a
  test-r-offline-minimal: !Task
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rocker
      r_image: r-base
      r_tag: latest
      flags: -e TEST_OFFLINE_BUILD=true

    branch: actions-1256-azure-test-r-offline-minimal
    commit: f402a3de0e817f5a2b00beaadaf542a08e139c4e
  test-r-depsource-system: !Task
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_SOURCE_HOME="/arrow" -e FORCE_BUNDLED_BUILD=TRUE -e LIBARROW_BUILD=TRUE
        -e ARROW_DEPENDENCY_SOURCE=SYSTEM
      image: ubuntu-r-only-r

    branch: actions-1256-github-test-r-depsource-system
    commit: 59ce9e10f8f817944ba1cc25b77b46cbebb89022
  test-ubuntu-18.04-r-sanitizer: !Task
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 18.04
        R_PRUNE_DEPS: true
      run: ubuntu-r-sanitizer

    branch: actions-1256-azure-test-ubuntu-18.04-r-sanitizer
    commit: b87e904f3bbbba70f070a448f197bd988a8ba14a
params: {}
branch: actions-1256
